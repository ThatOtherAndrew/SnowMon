<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>CS2003 FAQ</title>
  <style>
    html {
      color: #1a1a1a;
      background-color: #fdfdfd;
    }
    body {
      margin: 0 auto;
      max-width: 36em;
      padding-left: 50px;
      padding-right: 50px;
      padding-top: 50px;
      padding-bottom: 50px;
      hyphens: auto;
      overflow-wrap: break-word;
      text-rendering: optimizeLegibility;
      font-kerning: normal;
    }
    @media (max-width: 600px) {
      body {
        font-size: 0.9em;
        padding: 12px;
      }
      h1 {
        font-size: 1.8em;
      }
    }
    @media print {
      html {
        background-color: white;
      }
      body {
        background-color: transparent;
        color: black;
        font-size: 12pt;
      }
      p, h2, h3 {
        orphans: 3;
        widows: 3;
      }
      h2, h3, h4 {
        page-break-after: avoid;
      }
    }
    p {
      margin: 1em 0;
    }
    a {
      color: #1a1a1a;
    }
    a:visited {
      color: #1a1a1a;
    }
    img {
      max-width: 100%;
    }
    svg {
      height: auto;
      max-width: 100%;
    }
    h1, h2, h3, h4, h5, h6 {
      margin-top: 1.4em;
    }
    h5, h6 {
      font-size: 1em;
      font-style: italic;
    }
    h6 {
      font-weight: normal;
    }
    ol, ul {
      padding-left: 1.7em;
      margin-top: 1em;
    }
    li > ol, li > ul {
      margin-top: 0;
    }
    blockquote {
      margin: 1em 0 1em 1.7em;
      padding-left: 1em;
      border-left: 2px solid #e6e6e6;
      color: #606060;
    }
    code {
      font-family: Menlo, Monaco, Consolas, 'Lucida Console', monospace;
      font-size: 85%;
      margin: 0;
      hyphens: manual;
    }
    pre {
      margin: 1em 0;
      overflow: auto;
    }
    pre code {
      padding: 0;
      overflow: visible;
      overflow-wrap: normal;
    }
    .sourceCode {
     background-color: transparent;
     overflow: visible;
    }
    hr {
      border: none;
      border-top: 1px solid #1a1a1a;
      height: 1px;
      margin: 1em 0;
    }
    table {
      margin: 1em 0;
      border-collapse: collapse;
      width: 100%;
      overflow-x: auto;
      display: block;
      font-variant-numeric: lining-nums tabular-nums;
    }
    table caption {
      margin-bottom: 0.75em;
    }
    tbody {
      margin-top: 0.5em;
      border-top: 1px solid #1a1a1a;
      border-bottom: 1px solid #1a1a1a;
    }
    th {
      border-top: 1px solid #1a1a1a;
      padding: 0.25em 0.5em 0.25em 0.5em;
    }
    td {
      padding: 0.125em 0.5em 0.25em 0.5em;
    }
    header {
      margin-bottom: 4em;
      text-align: center;
    }
    #TOC li {
      list-style: none;
    }
    #TOC ul {
      padding-left: 1.3em;
    }
    #TOC > ul {
      padding-left: 0;
    }
    #TOC a:not(:hover) {
      text-decoration: none;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
</head>
<body>
<header id="title-block-header">
<h1 class="title">CS2003 FAQ</h1>
</header>
<p>A summary of some questions that we have received from CS2003
students.</p>
<h3 id="peerwise">PeerWise</h3>
<details>
<summary>
Click here to expand
</summary>
<p><strong>Q: I can’t find my matric ID in the list on
studres.</strong></p>
<p><strong>A:</strong> E-mail <a
href="mailto:cs2003.staff@st-andrews.ac.uk"
class="email">cs2003.staff@st-andrews.ac.uk</a>. It might be that you
were advised on to the module after the list was created.</p>
<p><strong>Q: Can you provide any example questions?</strong></p>
<p><strong>A:</strong> Tristan has added two questions to initially
populate the board. But these should not be considered exemplars. The
idea is that by rating questions and leaving useful feedback, the class
will determine which questions are good. And ideally you will be able to
use those good questions as a resource for study.</p>
</details>
<h3 id="c1-coursework">C1 Coursework</h3>
<details>
<summary>
Click here to expand
</summary>
<p><strong>Q: There appears to be an inconsistency between Figure 1 and
Table 1 (the last two lines of a protocol interaction).</strong></p>
<p><strong>A:</strong> Apologies - this was an error and has now been
fixed.</p>
<p><strong>Q: There appears to be another inconsistency in the first
message of the protocol. Should it be “BREAKER-19 or BREAKER 1-9” and
should it end with a full stop?</strong></p>
<p><strong>A:</strong> More apologies. This has now been fixed in the
spec.</p>
<p><strong>Q: Does the client need to verify that the time sent by the
server is correct?</strong></p>
<p><strong>A:</strong> No. This is beyond what we will cover in this
module as it would require strict clock synchronisation between client
and server.</p>
<p><strong>Q: Does the server need to accept more clients after the
first has disconnected?</strong></p>
<p><strong>A:</strong> This is up to you.</p>
<p><strong>Q: What should we do if the first message sent by the client
is invalid?</strong></p>
<p><strong>A:</strong> This is up to you.</p>
<p><strong>Q: How do we cite reused code?</strong></p>
<p><strong>A:</strong> See the GAP briefing and student handbook.</p>
<p><strong>Q: What does it mean to read in a transition
table?</strong></p>
<p><strong>A:</strong> Apologies as I thought that this would be covered
in CS2001. One way to do it would be to read in a file containing a
comma-separated list or similar of states and transitions. I will not be
prescriptive.</p>
</details>
<h3 id="c3-coursework">C3 Coursework</h3>
<details>
<summary>
Click here to expand
</summary>
<p><strong>Q: Can we import a web server class instead of writing our
own web server?</strong></p>
<p><strong>A:</strong> No. One of the learning outcomes of this piece of
coursework is for you to gain experience with writing a server that
implements (some of) a real-world protocol, i.e., HTTP. You are allowed
to use skeleton code that has been distributed in tutorials and exercise
classes. But you should build your own server that can accept HTTP
requests and return HTTP responses.</p>
<p><strong>Q: Can we use a JSON parser for the server?</strong></p>
<p><strong>A:</strong> Yes. Parsing JSON is not a learning outcome so
this is acceptable.</p>
<p><strong>Q: How does the ticket queue and the delay work? The
specification seems poorly worded.</strong></p>
<p><strong>A:</strong> Sorry for any confusion. Clearly we needed to
give more clues as to how one might implement this. With hindsight it is
also confusing to talk about a ticket queue (what the user sees) as well
as using queues (the underlying implementation).</p>
<p>The server systems lecture and the MultiChat system introduced the
idea of having multiple queues for different types of information.
Specifically control plane (clients) and data plane (messages)
communication. The same principle applies here. So one way of
implementing the ticket system would be to have two queues; one for
control information (a new user wants to buy a ticket) and one for data
plane (a ticket has been allocated to this user). A user could be added
to the former queue and an ID allocated whenever a new request comes in,
with a TTL corresponding to the random delay. The main server loop would
then check for expired TTLs, and issue a ticket through the data plane
queue.</p>
<p>Note that this is not the only way to do this.</p>
<p><strong>Q: If Person A and Person B are in the queue in that order,
should person B be unable to obtain their tickets until Person A has
claimed theirs?</strong></p>
<p><strong>A:</strong> No. I think the confusion here might be because a
GET /queue/id is not actually doing the purchase. It just checks that a
ticket has been processed. So make sure to distinguish between the
process of the tickets (internal to the server) and then the client’s
requests to confirm the status of a ticket.</p>
<p><strong>Q: Which concert should we use for the purchasing of tickets
in part 1?</strong></p>
<p><strong>A:</strong>. Any.</p>
<p><strong>Q: What should the server do in response to a GET /queue/:id
request where the client has not yet been added to the ticket purchasing
queue?</strong></p>
<p><strong>A:</strong> Short answer: the server could return a position
value of -1 or a 404. This question led to a bit of an e-mail thread. I
(Tristan) have adapted and included my longest response here as it might
be of use to other students:</p>
<p>Assume three clients, A, B and C connect to the server at the same
time. Assume also that we are using two queues, one for control and one
for data.</p>
<ul>
<li><p>A joins and is randomly given a 3 second delay. A is added to the
control queue with this value.</p></li>
<li><p>B joins, is given a 5 second delay, and added to the control
queue.</p></li>
<li><p>C joins, is given a 1 second delay, and added to the control
queue.</p></li>
</ul>
<p>When the control queue is processed and 1 second has passed, C is
added to the end of the data queue. Other clients may already be in this
queue. A is added later, then B.</p>
<p>When an HTTP GET request is received for an id, the server checks
whether this id is in the data queue or whether a ticket has been
purchased (ticketID has been issued). If the former then the current
position in the data queue is used. If the latter than a 0 is used. If
neither test is successful then this means that the purchaser is not in
the queue yet. In this case I think the server could return a position
of -1. Alternatively it could return a 404 since this is already
mentioned in the spec, but I think this would be less accurate since a
purchase request has been made.</p>
<p>When a client gets to the beginning of the data queue, then the
ticket purchase is processed, the client is removed from this queue, a
ticketID is issued and put in the appropriate data structure. Clients
should not poll the server to trigger an event in the server. The server
should have its own event loop which processes both queues, similar to
the MultiChatServer. You may need to add additional sleeps to make the
queue processing and the webpage be more interesting (again similar to
the MultiChatServer).</p>
</details>
<h4 id="last-updated-2025-11-19">last updated 2025-11-19</h4>
</body>
</html>
